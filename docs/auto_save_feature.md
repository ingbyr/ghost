# Ghost Host Manager - 自动保存功能说明

## 功能概述

自动保存功能允许用户在编辑Host分组时，当输入框失去焦点时自动保存更改，无需手动点击保存按钮。这提升了用户体验，减少了因忘记保存而导致的数据丢失风险。

## 触发条件

### RemoteHostEditor组件
- **Name输入框**: 失去焦点时自动保存
- **Description输入框**: 失去焦点时自动保存
- **URL输入框**: 失去焦点时自动保存
- **刷新间隔选择框**: 值改变时自动保存

### LocalHostEditor组件
- **Name输入框**: 失去焦点时自动保存
- **Description输入框**: 失去焦点时自动保存
- **Content文本域**: 失去焦点时自动保存

## 实现原理

### 事件监听
- 使用 `@blur` 事件监听输入框失去焦点
- 使用 `@change` 事件监听下拉选择框值改变
- 只有当内容确实发生更改（通过 `isDirty` 计算属性判断）时才执行保存

### 保存逻辑
- 检查 `isDirty` 状态，确保只有在内容实际发生更改时才执行保存
- 保持原有的应用hosts逻辑，当组启用时保存后自动应用到系统hosts文件
- 保持只读模式的限制，确保启用的组不会被意外编辑

## 用户体验

### 操作流程
1. 用户在任一输入框中编辑内容
2. 当用户点击其他地方或切换到其他分组时，输入框失去焦点
3. 系统检测到内容有更改，自动执行保存操作
4. 保存成功后，如果组处于启用状态，则自动应用到系统hosts文件

### 优势
- 无需手动点击保存按钮，提高工作效率
- 避免因忘记保存而导致的数据丢失
- 保持界面简洁，移除了浮动的保存按钮
- 与系统其他功能保持一致的交互模式

## 技术实现

### 前端组件
- `RemoteHostEditor.vue`: 实现了名称、描述、URL和刷新间隔的自动保存
- `LocalHostEditor.vue`: 实现了名称、描述和内容的自动保存

### 事件处理
- `autoSave()` 方法：检查更改并执行保存
- `handleNameBlur()` 方法：处理名称输入框失去焦点
- `handleDescriptionBlur()` 方法：处理描述输入框失去焦点
- `handleContentBlur()` 方法：处理内容区域失去焦点

## 注意事项

1. 自动保存功能仅在内容实际发生更改时触发
2. 只读模式下的组（已启用的组）不会触发自动保存
3. 保存操作会保持原有的应用hosts逻辑
4. 自动保存会触发与手动保存相同的后端逻辑